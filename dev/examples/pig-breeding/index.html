<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pig Breeding · DecisionProgramming.jl</title><meta name="title" content="Pig Breeding · DecisionProgramming.jl"/><meta property="og:title" content="Pig Breeding · DecisionProgramming.jl"/><meta property="twitter:title" content="Pig Breeding · DecisionProgramming.jl"/><meta name="description" content="Documentation for DecisionProgramming.jl."/><meta property="og:description" content="Documentation for DecisionProgramming.jl."/><meta property="twitter:description" content="Documentation for DecisionProgramming.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.svg" alt="DecisionProgramming.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">DecisionProgramming.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Decision Programming</span><ul><li><a class="tocitem" href="../../decision-programming/influence-diagram/">Influence Diagram</a></li><li><a class="tocitem" href="../../decision-programming/RJT-model/">RJT model</a></li><li><a class="tocitem" href="../../decision-programming/path-based-model/">Path-based model</a></li><li><a class="tocitem" href="../../decision-programming/cvar/">Conditional value-at-risk</a></li><li><a class="tocitem" href="../../decision-programming/analyzing-decision-strategies/">Analyzing Decision Strategies</a></li><li><a class="tocitem" href="../../decision-programming/computational-complexity/">Computational Complexity</a></li></ul></li><li><a class="tocitem" href="../../usage/">Usage</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../used-car-buyer/">Used Car Buyer</a></li><li class="is-active"><a class="tocitem" href>Pig Breeding</a><ul class="internal"><li><a class="tocitem" href="#Description"><span>Description</span></a></li><li><a class="tocitem" href="#Influence-diagram"><span>Influence diagram</span></a></li><li><a class="tocitem" href="#Generating-the-model"><span>Generating the model</span></a></li><li><a class="tocitem" href="#Solving-the-model"><span>Solving the model</span></a></li><li><a class="tocitem" href="#Analyzing-results"><span>Analyzing results</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../n-monitoring/">N-Monitoring</a></li><li><a class="tocitem" href="../contingent-portfolio-programming/">Contingent Portfolio Programming</a></li><li><a class="tocitem" href="../CHD_preventative_care/">CHD preventative care allocation</a></li></ul></li><li><a class="tocitem" href="../../api/">API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Pig Breeding</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pig Breeding</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/gamma-opt/DecisionProgramming.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/gamma-opt/DecisionProgramming.jl/blob/master/docs/src/examples/pig-breeding.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="pig-breeding"><a class="docs-heading-anchor" href="#pig-breeding">Pig Breeding</a><a id="pig-breeding-1"></a><a class="docs-heading-anchor-permalink" href="#pig-breeding" title="Permalink"></a></h1><h2 id="Description"><a class="docs-heading-anchor" href="#Description">Description</a><a id="Description-1"></a><a class="docs-heading-anchor-permalink" href="#Description" title="Permalink"></a></h2><p>The pig breeding problem as described in <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>.</p><blockquote><p>A pig breeder is growing pigs for a period of four months and subsequently selling them. During this period the pig may or may not develop a certain disease. If the pig has the disease at the time it must be sold, the pig must be sold for slaughtering, and its expected market price is then 300 DKK (Danish kroner). If it is disease free, its expected market price as a breeding animal is 1000 DKK.</p><p>Once a month, a veterinary doctor sees the pig and makes a test for presence of the disease. If the pig is ill, the test will indicate this with probability 0.80, and if the pig is healthy, the test will indicate this with probability 0.90. At each monthly visit, the doctor may or may not treat the pig for the disease by injecting a certain drug. The cost of an injection is 100 DKK.</p><p>A pig has the disease in the first month with probability 0.10. A healthy pig develops the disease in the subsequent month with probability 0.20 without injection, whereas a healthy and treated pig develops the disease with probability 0.10, so the injection has some preventive effect. An untreated pig that is unhealthy will remain so in the subsequent month with probability 0.90, whereas the similar probability is 0.50 for an unhealthy pig that is treated. Thus spontaneous cure is possible, but treatment is beneficial on average.</p></blockquote><h2 id="Influence-diagram"><a class="docs-heading-anchor" href="#Influence-diagram">Influence diagram</a><a id="Influence-diagram-1"></a><a class="docs-heading-anchor-permalink" href="#Influence-diagram" title="Permalink"></a></h2><p><img src="../figures/n-month-pig-breeding.svg" alt/></p><p>The influence diagram for the generalized <span>$N$</span>-month pig breeding problem. The nodes are associated with the following states. <strong>Health states</strong> <span>$h_k=\{ill,healthy\}$</span> represent the health of the pig at month <span>$k=1,...,N$</span>. <strong>Test states</strong> <span>$t_k=\{positive,negative\}$</span> represent the result from testing the pig at month <span>$k=1,...,N-1$</span>. <strong>Treatment states</strong> <span>$d_k=\{treat, pass\}$</span> represent the decision to treat the pig with an injection at month <span>$k=1,...,N-1$</span>.</p><blockquote><p>The dashed arcs represent the no-forgetting principle. The no-forgetting assumption does not hold without them and they are tnot included in the following model. They could be included by changing the information sets of nodes.</p></blockquote><p>In this example, we solve the 4 month pig breeding problem and thus, declare <span>$N = 4$</span>.</p><pre><code class="language-julia hljs">using JuMP, HiGHS
using DecisionProgramming

const N = 4</code></pre><p>In Decision Programming, we start by initialising an empty influence diagram. Then we define the nodes with their information sets and states and add them to the influence diagram.</p><pre><code class="language-julia hljs">diagram = InfluenceDiagram()</code></pre><h3 id="Health-at-first-month"><a class="docs-heading-anchor" href="#Health-at-first-month">Health at first month</a><a id="Health-at-first-month-1"></a><a class="docs-heading-anchor-permalink" href="#Health-at-first-month" title="Permalink"></a></h3><p>As seen in the influence diagram, the node <span>$h_1$</span> has no arcs into it making it a root node. Therefore, the information set <span>$I(h_1)$</span> is empty. The states of this node are <span>$ill$</span> and <span>$healthy$</span>.</p><pre><code class="language-julia hljs">add_node!(diagram, ChanceNode(&quot;H1&quot;, [], [&quot;ill&quot;, &quot;healthy&quot;]))</code></pre><h3 id="Health,-test-results-and-treatment-decisions-at-subsequent-months"><a class="docs-heading-anchor" href="#Health,-test-results-and-treatment-decisions-at-subsequent-months">Health, test results and treatment decisions at subsequent months</a><a id="Health,-test-results-and-treatment-decisions-at-subsequent-months-1"></a><a class="docs-heading-anchor-permalink" href="#Health,-test-results-and-treatment-decisions-at-subsequent-months" title="Permalink"></a></h3><p>The chance and decision nodes representing the health, test results, treatment decisions for the following months can be added easily using a for-loop. The value node representing the treatment costs in each month is also added. Each node is given a name, its information set and states. Remember that value nodes do not have states. Notice that we do not assume the no-forgetting principle and thus, the information sets of the treatment decisions only contain the previous test result.</p><pre><code class="language-julia hljs">for i in 1:N-1
    # Testing result
    add_node!(diagram, ChanceNode(&quot;T$i&quot;, [&quot;H$i&quot;], [&quot;positive&quot;, &quot;negative&quot;]))
    # Decision to treat
    add_node!(diagram, DecisionNode(&quot;D$i&quot;, [&quot;T$i&quot;], [&quot;treat&quot;, &quot;pass&quot;]))
    # Cost of treatment
    add_node!(diagram, ValueNode(&quot;V$i&quot;, [&quot;D$i&quot;]))
    # Health of next period
    add_node!(diagram, ChanceNode(&quot;H$(i+1)&quot;, [&quot;H$(i)&quot;, &quot;D$(i)&quot;], [&quot;ill&quot;, &quot;healthy&quot;]))
end</code></pre><h3 id="Market-price"><a class="docs-heading-anchor" href="#Market-price">Market price</a><a id="Market-price-1"></a><a class="docs-heading-anchor-permalink" href="#Market-price" title="Permalink"></a></h3><p>The final value node, representing the market price, is added. It has the final health node <span>$h_N$</span> as its information set.</p><pre><code class="language-julia hljs">add_node!(diagram, ValueNode(&quot;V4&quot;, [&quot;H$N&quot;]))</code></pre><h3 id="Generate-arcs"><a class="docs-heading-anchor" href="#Generate-arcs">Generate arcs</a><a id="Generate-arcs-1"></a><a class="docs-heading-anchor-permalink" href="#Generate-arcs" title="Permalink"></a></h3><p>Now that all of the nodes have been added to the influence diagram, we generate the arcs between the nodes. This step automatically orders the nodes, gives them indices and reorganises the information into the correct form.</p><pre><code class="language-julia hljs">generate_arcs!(diagram)</code></pre><h3 id="Probabilities"><a class="docs-heading-anchor" href="#Probabilities">Probabilities</a><a id="Probabilities-1"></a><a class="docs-heading-anchor-permalink" href="#Probabilities" title="Permalink"></a></h3><p>We define probability distributions for all chance nodes. For the first health node, the probability distribution is defined over its two states <span>$ill$</span> and <span>$healthy$</span>. The probability that the pig is ill in the first month is</p><p class="math-container">\[ℙ(h_1 = ill)=0.1.\]</p><p>We obtain the complement probabilities for binary states by subtracting from one</p><p class="math-container">\[ℙ(h_1 = healthy)=1-ℙ(h_1 = ill).\]</p><p>In Decision Programming, we add these probabilities for node <span>$h_1$</span> as follows. Notice, that the probability vector is ordered according to the order that the states were given in when defining node <span>$h_1$</span>. More information on the syntax of adding probabilities is found on the <a href="../../usage/">usage page</a>.</p><pre><code class="language-julia hljs">add_probabilities!(diagram, &quot;H1&quot;, [0.1, 0.9])</code></pre><p>The probability distributions for the other health nodes are identical. Thus, we define one probability matrix and use it for all the subsequent months&#39; health nodes. The probability that the pig is ill in the subsequent months <span>$k=2,...,N$</span> depends on the treatment decision and state of health in the previous month <span>$k-1$</span>. The nodes <span>$h_{k-1}$</span> and <span>$d_{k-1}$</span> are thus in the information set <span>$I(h_k)$</span>, meaning that the probability distribution of <span>$h_k$</span> is conditional on these nodes:</p><p class="math-container">\[ℙ(h_k = ill ∣ h_{k-1} = healthy, \ d_{k-1} = pass)=0.2,\]</p><p class="math-container">\[ℙ(h_k = ill ∣ h_{k-1} = healthy, \ d_{k-1} = treat)=0.1,\]</p><p class="math-container">\[ℙ(h_k = ill ∣ h_{k-1} = ill, \ d_{k-1} = pass)=0.9,\]</p><p class="math-container">\[ℙ(h_k = ill ∣ h_{k-1} = ill, \ d_{k-1} = treat)=0.5.\]</p><p>In Decision Programming, the probability matrix is defined in the following way. Notice, that the ordering of the information state corresponds to the order in which the information set was defined when adding the health nodes.</p><pre><code class="language-julia hljs">X_H = ProbabilityMatrix(diagram, &quot;H2&quot;)
X_H[&quot;healthy&quot;, &quot;pass&quot;, :] = [0.2, 0.8]
X_H[&quot;healthy&quot;, &quot;treat&quot;, :] = [0.1, 0.9]
X_H[&quot;ill&quot;, &quot;pass&quot;, :] = [0.9, 0.1]
X_H[&quot;ill&quot;, &quot;treat&quot;, :] = [0.5, 0.5]</code></pre><p>Next we define the probability matrix for the test results. Here again, we note that the probability distributions for all test results are identical, and thus we only define the probability matrix once. For the probabilities that the test indicates a pig&#39;s health correctly at month <span>$k=1,...,N-1$</span>, we have</p><p class="math-container">\[ℙ(t_k = positive ∣ h_k = ill) = 0.8,\]</p><p class="math-container">\[ℙ(t_k = negative ∣ h_k = healthy) = 0.9.\]</p><p>In Decision Programming:</p><pre><code class="language-julia hljs">X_T = ProbabilityMatrix(diagram, &quot;T1&quot;)
X_T[&quot;ill&quot;, &quot;positive&quot;] = 0.8
X_T[&quot;ill&quot;, &quot;negative&quot;] = 0.2
X_T[&quot;healthy&quot;, &quot;negative&quot;] = 0.9
X_T[&quot;healthy&quot;, &quot;positive&quot;] = 0.1</code></pre><p>We add the probability matrices into the influence diagram using a for-loop.</p><pre><code class="language-julia hljs">for i in 1:N-1
    add_probabilities!(diagram, &quot;T$i&quot;, X_T)
    add_probabilities!(diagram, &quot;H$(i+1)&quot;, X_H)
end</code></pre><h3 id="Utilities"><a class="docs-heading-anchor" href="#Utilities">Utilities</a><a id="Utilities-1"></a><a class="docs-heading-anchor-permalink" href="#Utilities" title="Permalink"></a></h3><p>The cost incurred by the treatment decision at month <span>$k=1,...,N-1$</span> is</p><p class="math-container">\[Y(d_k=treat) = -100,\]</p><p class="math-container">\[Y(d_k=pass) = 0.\]</p><p>In Decision Programming the utility values are added using utility matrices. Notice that the utility values in the matrix are given in the same order as the states of node <span>$h_N$</span> were defined when node <span>$h_N$</span> was added.</p><pre><code class="language-julia hljs">for i in 1:N-1
    add_utilities!(diagram, &quot;V$i&quot;, [-100.0, 0.0])
end</code></pre><p>The market price of the pig given its health at month <span>$N$</span> is @ <span>$Y(h_N=ill) = 300,$</span></p><p class="math-container">\[Y(h_N=healthy) = 1000.\]</p><p>In Decision Programming:</p><pre><code class="language-julia hljs">add_utilities!(diagram, &quot;V4&quot;, [300.0, 1000.0])</code></pre><h2 id="Generating-the-model"><a class="docs-heading-anchor" href="#Generating-the-model">Generating the model</a><a id="Generating-the-model-1"></a><a class="docs-heading-anchor-permalink" href="#Generating-the-model" title="Permalink"></a></h2><p>After adding nodes, generating arcs and defining probability and utility values, we generate the model, which is done by <code>generate_model</code> function. In this example, we use the slower path-based formulation (model_type=&quot;DP&quot;).</p><p>By default <code>generate_model</code> and <code>generate_diagram!</code> use the default path probabilities and utilities, which are defined as the joint probability of all chance events in the diagram and the sum of utilities in value nodes, respectively. In the <a href="../contingent-portfolio-programming/">Contingent Portfolio Programming</a> example, we show how to use a user-defined custom path utility function. In the pig breeding problem, when the <span>$N$</span> is large some of the path utilities become negative. In this case, we choose to use the <a href="../../decision-programming/path-based-model/">positive path utility</a> transformation, which allows us to exclude the probability cut in the next section.</p><p>Since we applied an affine transformation to the utility function, making all path utilities positive, the probability cut can be excluded from the model (which is also the default setting). The purpose of this is discussed in the <a href="../../decision-programming/path-based-model/">theoretical section</a> of this documentation.</p><pre><code class="language-julia hljs">model, z, x_s = generate_model(diagram, model_type=&quot;DP&quot;, positive_path_utility=true, probability_cut=false)</code></pre><p>After this, we set up the solver</p><pre><code class="language-julia hljs">optimizer = optimizer_with_attributes(
    () -&gt; HiGHS.Optimizer()
)
set_optimizer(model, optimizer)</code></pre><h2 id="Solving-the-model"><a class="docs-heading-anchor" href="#Solving-the-model">Solving the model</a><a id="Solving-the-model-1"></a><a class="docs-heading-anchor-permalink" href="#Solving-the-model" title="Permalink"></a></h2><p>We use the single policy update heuristic to obtain an initial solution and then solve the problem.</p><pre><code class="language-julia hljs">spu = singlePolicyUpdate(diagram, model, z; x_s)
optimize!(model)</code></pre><h2 id="Analyzing-results"><a class="docs-heading-anchor" href="#Analyzing-results">Analyzing results</a><a id="Analyzing-results-1"></a><a class="docs-heading-anchor-permalink" href="#Analyzing-results" title="Permalink"></a></h2><p>Once the model is solved, we extract the results. The results are the decision strategy, state probabilities and utility distribution.</p><pre><code class="language-julia hljs">Z = DecisionStrategy(diagram, z)
S_probabilities = StateProbabilities(diagram, Z)
U_distribution = UtilityDistribution(diagram, Z)</code></pre><h3 id="Decision-strategy"><a class="docs-heading-anchor" href="#Decision-strategy">Decision strategy</a><a id="Decision-strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Decision-strategy" title="Permalink"></a></h3><p>The optimal decision strategy is:</p><pre><code class="language-julia-repl hljs">julia&gt; print_decision_strategy(diagram, Z, S_probabilities)
┌────────────────┬────────────────┐
│ State(s) of T1 │ Decision in D1 │
├────────────────┼────────────────┤
│ positive       │ pass           │
│ negative       │ pass           │
└────────────────┴────────────────┘
┌────────────────┬────────────────┐
│ State(s) of T2 │ Decision in D2 │
├────────────────┼────────────────┤
│ positive       │ treat          │
│ negative       │ pass           │
└────────────────┴────────────────┘
┌────────────────┬────────────────┐
│ State(s) of T3 │ Decision in D3 │
├────────────────┼────────────────┤
│ positive       │ treat          │
│ negative       │ pass           │
└────────────────┴────────────────┘</code></pre><p>The optimal strategy is to not treat the pig in the first month regardless of if it is sick or not. In the two subsequent months, the pig should be treated if the test result is positive.</p><h3 id="State-probabilities"><a class="docs-heading-anchor" href="#State-probabilities">State probabilities</a><a id="State-probabilities-1"></a><a class="docs-heading-anchor-permalink" href="#State-probabilities" title="Permalink"></a></h3><p>The state probabilities for strategy <span>$Z$</span> tell the probability of each state in each node, given strategy <span>$Z$</span>.</p><pre><code class="language-julia-repl hljs">julia&gt;  health_nodes = [[&quot;H$i&quot; for i in 1:N]...]
julia&gt; print_state_probabilities(diagram, S_probabilities, health_nodes)

┌────────┬──────────┬──────────┬─────────────┐
│   Node │      ill │  healthy │ Fixed state │
│ String │  Float64 │  Float64 │      String │
├────────┼──────────┼──────────┼─────────────┤
│     H1 │ 0.100000 │ 0.900000 │             │
│     H2 │ 0.270000 │ 0.730000 │             │
│     H3 │ 0.295300 │ 0.704700 │             │
│     H4 │ 0.305167 │ 0.694833 │             │
└────────┴──────────┴──────────┴─────────────┘

julia&gt; test_nodes = [[&quot;T$i&quot; for i in 1:N-1]...]
julia&gt; print_state_probabilities(diagram, S_probabilities, test_nodes)
┌────────┬──────────┬──────────┬─────────────┐
│   Node │ positive │ negative │ Fixed state │
│ String │  Float64 │  Float64 │      String │
├────────┼──────────┼──────────┼─────────────┤
│     T1 │ 0.170000 │ 0.830000 │             │
│     T2 │ 0.289000 │ 0.711000 │             │
│     T3 │ 0.306710 │ 0.693290 │             │
└────────┴──────────┴──────────┴─────────────┘

julia&gt; treatment_nodes = [[&quot;D$i&quot; for i in 1:N-1]...]
julia&gt; print_state_probabilities(diagram, S_probabilities, treatment_nodes)
┌────────┬──────────┬──────────┬─────────────┐
│   Node │    treat │     pass │ Fixed state │
│ String │  Float64 │  Float64 │      String │
├────────┼──────────┼──────────┼─────────────┤
│     D1 │ 0.000000 │ 1.000000 │             │
│     D2 │ 0.289000 │ 0.711000 │             │
│     D3 │ 0.306710 │ 0.693290 │             │
└────────┴──────────┴──────────┴─────────────┘</code></pre><h3 id="Utility-distribution"><a class="docs-heading-anchor" href="#Utility-distribution">Utility distribution</a><a id="Utility-distribution-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-distribution" title="Permalink"></a></h3><p>We can also print the utility distribution for the optimal strategy. The selling prices for a healthy and an ill pig are 1000DKK and 300DKK, respectively, while the cost of treatment is 100DKK. We can see that the probability of the pig being ill in the end is the sum of three first probabilities, approximately 30.5%. This matches the probability of state <span>$ill$</span> in the last node <span>$h_4$</span> in the state probabilities shown above.</p><pre><code class="language-julia-repl hljs">julia&gt; print_utility_distribution(U_distribution)
┌─────────────┬─────────────┐
│     Utility │ Probability │
│     Float64 │     Float64 │
├─────────────┼─────────────┤
│  100.000000 │    0.047857 │
│  200.000000 │    0.129330 │
│  300.000000 │    0.127980 │
│  800.000000 │    0.061753 │
│  900.000000 │    0.247160 │
│ 1000.000000 │    0.385920 │
└─────────────┴─────────────┘</code></pre><p>Finally, we print some statistics for the utility distribution. The expected value of the utility is 727DKK, the same as in <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>.</p><pre><code class="language-julia-repl hljs">julia&gt; print_statistics(U_distribution)
┌──────────┬────────────┐
│     Name │ Statistics │
│   String │    Float64 │
├──────────┼────────────┤
│     Mean │ 726.812100 │
│      Std │ 338.460723 │
│ Skewness │  -0.811628 │
│ Kurtosis │  -1.173465 │
└──────────┴────────────┘</code></pre><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Lauritzen, S. L., &amp; Nilsson, D. (2001). Representing and solving decision problems with limited information. Management Science, 47(9), 1235–1251. https://doi.org/10.1287/mnsc.47.9.1235.9779</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../used-car-buyer/">« Used Car Buyer</a><a class="docs-footer-nextpage" href="../n-monitoring/">N-Monitoring »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.6.0 on <span class="colophon-date" title="Tuesday 3 September 2024 06:57">Tuesday 3 September 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
